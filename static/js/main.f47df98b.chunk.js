(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){t.exports=a(23)},20:function(t,e,a){},21:function(t,e,a){},22:function(t,e,a){},23:function(t,e,a){"use strict";a.r(e);var n,s,r,u=a(0),o=a.n(u),i=a(4),c=a.n(i),l=a(1),d=a.n(l),m=a(2),p=a(5),h=a(6),f=a(11),v=a(7),k=a(12),y=a(8),g=a.n(y);function b(t){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(d.a.mark(function t(e){var a,r,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.url);case 3:return a=t.sent,t.next=6,a.text();case 6:if(r=t.sent,u=e.task===s.Live&&a.ok,e.system!==n.ReverseProxy||!a.ok){t.next=10;break}return t.abrupt("return",C(e));case 10:if(e.system!==n.MARC||!u){t.next=12;break}return t.abrupt("return",C(e));case 12:if(e.system!==n.WebPlatform||!u){t.next=14;break}return t.abrupt("return",C(e));case 14:if(!r.includes("succeeded")||!a.ok){t.next=16;break}return t.abrupt("return",C(e));case 16:if(!r.includes("failed")){t.next=18;break}return t.abrupt("return",E(e));case 18:return t.abrupt("return",M(e));case 21:return t.prev=21,t.t0=t.catch(0),t.abrupt("return",E(e));case 24:case"end":return t.stop()}},t,null,[[0,21]])}))).apply(this,arguments)}function S(t){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(b)));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function T(t,e){return Object.assign({},t,{status:e,time:Date.now()})}function C(t){return T(t,r.Success)}function E(t){return T(t,r.Failed)}function M(t){return T(t,r.Unknown)}function U(t,e){if(t.length>0&&e.length>0){var a=e.sort(O),n=t.sort(O),s=Date.now();return a.map(function(t,e){return t.status!==n[e].status?Object.assign(t,{time:s,days:R(s),hours:P(s),minutes:I(s)}):Object.assign(t,{time:n[e].time,days:R(n[e].time),hours:P(n[e].time),minutes:I(n[e].time)})})}return e}function O(t,e){return t.system+t.task<e.system+e.task?-1:t.system+t.task>e.system+e.task?1:0}function I(t){var e=t||(new Date).getTime();return Math.round(Math.abs((new Date).getTime()-e)/6e4%60)}function P(t){var e=t||(new Date).getTime();return Math.floor(Math.abs((new Date).getTime()-e)/36e5%24)}function R(t){var e=t||(new Date).getTime();return Math.floor(Math.abs((new Date).getTime()-e)/864e5%24)}!function(t){t.WebPlatform="WebPlatform",t.MARC="MARC",t.ReverseProxy="ReverseProxy"}(n||(n={})),function(t){t.UnitTest="Unit",t.IntegrationTest="Integration",t.Build="Build",t.Live="Live"}(s||(s={})),function(t){t.Success="Success",t.Failed="Failed",t.Unknown="Unknown"}(r||(r={}));var j=[{system:n.MARC,task:s.Build,url:"https://caspecodev.visualstudio.com/Cloud/_apis/build/status/MARC%20Build%20&%20Deploy%20Trackingdev",status:r.Unknown},{system:n.WebPlatform,task:s.Build,url:"https://caspecodev.visualstudio.com/Cloud/_apis/build/status/WEBPLATFORM%20Build%20&%20Deploy%20Trackingdev",status:r.Unknown},{system:n.MARC,task:s.Live,url:"https://cloud.caspeco.se/api/test/get",status:r.Unknown},{system:n.WebPlatform,task:s.Live,url:"https://cloud.caspeco.se",status:r.Unknown},{system:n.MARC,task:s.IntegrationTest,url:"https://caspecodev.visualstudio.com/Cloud/_apis/build/status/MARC%20Build%20&%20IntegrationTest",status:r.Unknown},{system:n.WebPlatform,task:s.IntegrationTest,url:"https://caspecodev.visualstudio.com/Cloud/_apis/build/status/WEBPLATFORM%20Build%20&%20Test",status:r.Unknown},{system:n.MARC,task:s.UnitTest,url:"https://caspecodev.visualstudio.com/Cloud/_apis/build/status/MARC%20Build%20&%20Unit%20Test",status:r.Unknown},{system:n.ReverseProxy,task:s.Live,url:"https://cloud.caspeco.se/.where",status:r.Unknown}],A=a(9),B=a(10),D=a.n(B),L=(a(20),o.a.memo(function(t){var e=t.system,a=t.text,n=t.type,s=t.days,r=void 0===s?0:s,u=t.hours,i=void 0===u?0:u,c=t.minutes,l=void 0===c?0:c;return o.a.createElement("div",{className:"status-container"},o.a.createElement("div",{className:"status__text"},e,"\xa0",o.a.createElement("span",null,a)),o.a.createElement("div",{className:D()("status__light",Object(A.a)({},"status__light--".concat(n),!0))},o.a.createElement("div",null," ",r," d ",i," h ",l," m")))})),W=(a(21),function(t){function e(){var t,a;Object(p.a)(this,e);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(s)))).interval=null,a.state={statuses:[],lastUpdated:new Date,checked:!0},a.allStatuses=Object(m.a)(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(j);case 2:e=t.sent,a.setState(function(t){return{statuses:U(t.statuses,e),lastUpdated:new Date}},a.setInLocalStorage);case 4:case"end":return t.stop()}},t)})),a.setInLocalStorage=function(){var t;t=a.state.statuses,localStorage.setItem("statuses",JSON.stringify(t))},a.setTheme=function(t){var e=t?"#f1f1f1":"#333",a=t?"#333":"#f1f1f1",n=document.documentElement;n.style.setProperty("--text-color",a),n.style.setProperty("--bg-color",e),function(t){localStorage.setItem("theme",t.toString())}(t)},a.handleChange=function(t){a.setTheme(t),a.setState({checked:t})},a.renderStatuses=function(t){return t?t.map(function(t,e){return o.a.createElement(L,{key:e,system:t.system,text:t.task,type:t.status,days:t.days,hours:t.hours,minutes:t.minutes})}):null},a}return Object(k.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=Object(m.a)(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.statuses,this.setState({statuses:e},this.allStatuses),this.interval=setInterval(this.allStatuses,6e4),this.handleChange("false"!==localStorage.getItem("theme"));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=o.a.createElement("div",{style:{paddingTop:2,paddingLeft:4}},o.a.createElement("span",{role:"img","aria-label":"Sun"},"\ud83c\udf1d")),e=o.a.createElement("div",{style:{paddingTop:2,paddingLeft:4}},o.a.createElement("span",{role:"img","aria-label":"Moon"},"\ud83c\udf1b"));return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"last-updated"},"Senast uppdaterad:"," ",this.state.lastUpdated&&this.state.lastUpdated.toLocaleString("sv-SE")),o.a.createElement("div",{className:"toggle-switch"},o.a.createElement(g.a,{onColor:"#80adfa",checkedIcon:t,uncheckedIcon:e,onChange:this.handleChange,checked:this.state.checked})),this.renderStatuses(this.state.statuses))}}]),e}(u.PureComponent));a(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(W,{statuses:function(){try{var t=localStorage.getItem("statuses");return t?JSON.parse(t):[]}catch(e){return[]}}()}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.f47df98b.chunk.js.map